<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>视频去水印工具 - 支持多平台</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='css/style.css') }}"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- 侧边栏 -->
        <div class="col-md-3 sidebar">
          <div class="sidebar-content">
            <div class="logo">
              <i class="fas fa-video"></i>
              <h3>视频去水印</h3>
            </div>

            <div class="features">
              <div class="feature-item">
                <i class="fas fa-link"></i>
                <span>解析分享链接</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-download"></i>
                <span>无水印下载</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-info-circle"></i>
                <span>获取视频信息</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-shield-alt"></i>
                <span>安全可靠</span>
              </div>
            </div>

            <div class="usage-tips">
              <h5><i class="fas fa-lightbulb"></i> 使用提示</h5>
              <ul>
                <li>
                  支持
                  TikTok、抖音、Instagram、YouTube、Twitter/X、Facebook、B站、微博等平台
                </li>
                <li>复制视频分享链接或完整链接</li>
                <li>粘贴到输入框中并点击解析</li>
                <li>获取视频信息和下载链接</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- 主内容区 -->
        <div class="col-md-9 main-content">
          <div class="content-wrapper">
            <!-- 头部 -->
            <div class="header">
              <h1>视频去水印工具</h1>
              <p>
                支持 TikTok、抖音、Instagram、YouTube、Twitter/X
                等多平台视频下载
              </p>
            </div>

            <!-- 输入区域 -->
            <div class="input-section">
              <div class="input-group">
                <span class="input-group-text">
                  <i class="fas fa-link"></i>
                </span>
                <input
                  type="text"
                  id="shareUrl"
                  class="form-control"
                  placeholder="粘贴视频链接（支持 TikTok、抖音、Instagram、YouTube、Twitter/X 等）"
                  aria-label="视频链接"
                />
                <button class="btn btn-primary" type="button" id="parseBtn">
                  <i class="fas fa-search"></i> 解析
                </button>
              </div>
            </div>

            <!-- 加载状态 -->
            <div id="loading" class="loading-section" style="display: none">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">加载中...</span>
              </div>
              <p>正在解析视频信息，请稍候...</p>
            </div>

            <!-- 错误提示 -->
            <div
              id="errorAlert"
              class="alert alert-danger"
              style="display: none"
            >
              <i class="fas fa-exclamation-triangle"></i>
              <span id="errorMessage"></span>
            </div>

            <!-- 视频信息展示 -->
            <div
              id="videoInfo"
              class="video-info-section"
              style="display: none"
            >
              <div class="card">
                <div class="card-header">
                  <h5><i class="fas fa-info-circle"></i> 视频信息</h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-4">
                      <div class="video-preview">
                        <img
                          id="coverImage"
                          src=""
                          alt="视频封面"
                          class="img-fluid rounded"
                        />
                        <div class="video-overlay">
                          <i class="fas fa-play"></i>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="video-details">
                        <h6 id="videoTitle" class="video-title"></h6>
                        <p id="videoAuthor" class="video-author">
                          <i class="fas fa-user"></i> <span></span>
                        </p>
                        <div class="video-stats">
                          <span class="stat-item">
                            <i class="fas fa-heart"></i>
                            <span id="likeCount">0</span>
                          </span>
                          <span class="stat-item">
                            <i class="fas fa-comment"></i>
                            <span id="commentCount">0</span>
                          </span>
                          <span class="stat-item">
                            <i class="fas fa-share"></i>
                            <span id="shareCount">0</span>
                          </span>
                          <span class="stat-item">
                            <i class="fas fa-clock"></i>
                            <span id="duration">0s</span>
                          </span>
                        </div>
                        <div class="action-buttons">
                          <button id="downloadBtn" class="btn btn-success">
                            <i class="fas fa-download"></i> 下载无水印视频
                          </button>
                          <button
                            id="copyInfoBtn"
                            class="btn btn-outline-primary"
                          >
                            <i class="fas fa-copy"></i> 复制视频信息
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 下载进度 -->
            <div
              id="downloadProgress"
              class="download-progress"
              style="display: none"
            >
              <div class="progress">
                <div
                  class="progress-bar progress-bar-striped progress-bar-animated"
                  role="progressbar"
                  style="width: 0%"
                ></div>
              </div>
              <p class="text-center mt-2">正在下载视频，请稍候...</p>
            </div>

            <!-- 下载完成 -->
            <div
              id="downloadComplete"
              class="download-complete"
              style="display: none"
            >
              <div class="alert alert-success">
                <i class="fas fa-check-circle"></i>
                <strong>下载完成！</strong>
                <a
                  id="downloadLink"
                  href="#"
                  class="btn btn-sm btn-success ms-2"
                >
                  <i class="fas fa-download"></i> 立即下载
                </a>
                <button
                  id="cleanupBtn"
                  class="btn btn-sm btn-outline-secondary ms-2"
                >
                  <i class="fas fa-trash"></i> 清理文件
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>
