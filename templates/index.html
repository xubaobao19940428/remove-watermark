<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>视频去水印 - 极致无损下载</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='css/style.css') }}"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row g-0">
        <!-- Sidebar -->
        <div class="col-lg-3">
          <div class="sidebar glass-panel">
            <div class="logo">
              <i class="fas fa-layer-group"></i>
              <h3>QuickClean</h3>
            </div>

            <div class="features-list">
              <div class="feature-item">
                <i class="fas fa-bolt"></i>
                <span>秒速解析核心</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-gem"></i>
                <span>原画质无损导出</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-fingerprint"></i>
                <span>智能水印识别</span>
              </div>
              <div class="feature-item">
                <i class="fas fa-shield-halved"></i>
                <span>隐私合规处理</span>
              </div>
            </div>

            <div class="usage-tips glass-panel p-4">
              <h5><i class="fas fa-wand-magic-sparkles me-2"></i> 快速上手</h5>
              <ul class="ps-0 mb-0">
                <li>复制短视频平台的分享链接</li>
                <li>系统将自动识别剪贴板内容</li>
                <li>点击下载即可保存无水印原片</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="col-lg-9">
          <div class="main-content">
            <div class="content-wrapper">
              <div class="header">
                <h1>AI 视频去水印</h1>
                <p class="text-secondary lead">极致、纯净、高效的跨平台视频解析下载专家</p>
              </div>

              <!-- Input Area -->
              <div class="input-section glass-panel">
                <div class="input-group">
                  <span class="input-group-text px-3">
                    <i class="fas fa-link"></i>
                  </span>
                  <input
                    type="text"
                    id="shareUrl"
                    class="form-control"
                    placeholder="在此粘贴 TikTok、抖音、Instagram 或 YouTube 链接..."
                  />
                  <button class="btn btn-primary" type="button" id="parseBtn">
                    <i class="fas fa-paper-plane me-2"></i>开始解析
                  </button>
                </div>
                <div class="platforms-icons mt-3 d-flex gap-3 opacity-50 justify-content-center">
                    <i class="fab fa-tiktok"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-youtube"></i>
                    <i class="fab fa-facebook"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fas fa-play"></i>
                </div>
              </div>

              <!-- Status Feedback -->
              <div id="loading" class="loading-section glass-panel mb-4" style="display: none">
                <div class="spinner-border" role="status"></div>
                <p class="mt-3 text-secondary">正在调取云端解析引擎...</p>
              </div>

              <div id="errorAlert" class="alert alert-danger glass-panel mb-4" style="display: none">
                <div class="d-flex align-items:center">
                    <i class="fas fa-circle-exclamation fs-4 me-3"></i>
                    <span id="errorMessage"></span>
                </div>
              </div>

              <!-- Result Display -->
              <div id="videoInfo" class="video-info-section mb-4" style="display: none">
                <div class="video-card glass-panel">
                  <div class="row align-items-center">
                    <div class="col-md-5">
                      <div class="video-preview">
                        <img id="coverImage" src="" class="img-fluid w-100" alt="Preview"/>
                        <div class="video-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center opacity-0 hover-opacity-100 transition-all">
                            <i class="fas fa-circle-play fa-4x text-white"></i>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-7">
                      <div class="video-details">
                        <h2 id="videoTitle" class="video-title"></h2>
                        <p class="text-secondary mb-4">
                            <i class="fas fa-circle-user me-2 text-primary"></i>
                            <span id="videoAuthor"></span>
                        </p>
                        
                        <div class="d-flex flex-wrap">
                          <div class="stat-item"><i class="fas fa-heart me-2"></i><span id="likeCount">0</span></div>
                          <div class="stat-item"><i class="fas fa-comment me-2"></i><span id="commentCount">0</span></div>
                          <div class="stat-item"><i class="fas fa-share-nodes me-2"></i><span id="shareCount">0</span></div>
                          <div class="stat-item"><i class="fas fa-stopwatch me-2"></i><span id="duration">0s</span></div>
                        </div>

                        <div class="action-buttons">
                          <button id="downloadBtn" class="btn btn-success btn-lg px-5">
                            <i class="fas fa-cloud-arrow-down me-2"></i>下载视频
                          </button>
                          <button id="copyInfoBtn" class="btn btn-outline-primary btn-lg px-4">
                            <i class="fas fa-copy me-2"></i>复制文案
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Download Status -->
              <div id="downloadProgress" class="download-progress glass-panel mb-4" style="display: none">
                <div class="progress mb-3">
                  <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div>
                </div>
                <p class="text-secondary">文件加密传输中，请勿关闭页面...</p>
              </div>

              <div id="downloadComplete" class="download-complete glass-panel p-4" style="display: none">
                <div class="d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center text-success">
                        <i class="fas fa-circle-check fa-2x me-3"></i>
                        <div>
                            <h5 class="mb-0">处理完成</h5>
                            <small class="opacity-75">视频已完成无水印重构</small>
                        </div>
                    </div>
                    <div class="d-flex gap-2">
                        <a id="downloadLink" href="#" class="btn btn-success">
                            <i class="fas fa-download me-2"></i>保存到本地
                        </a>
                        <button id="cleanupBtn" class="btn btn-outline-secondary">
                            <i class="fas fa-broom me-2"></i>清理缓存
                        </button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>

